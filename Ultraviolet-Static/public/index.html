<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="googlebot" content="index, follow, snippet" />
    <link rel="shortcut icon" content="favicon.ico" />
    <link rel="stylesheet" href="index.css" />
    <script src="uv/uv.bundle.js" defer></script>
    <script src="uv/uv.config.js" defer></script>
    <script src="register-sw.js" defer></script>
    <link rel="icon" type="image/png"  href="/favicon/favicon-32x32.png">
    <link href="https://fonts.googleapis.com/css2?family=Tilt+Prism&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Exo+2&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk&display=swap" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/blacklisted" rel="stylesheet">
    <script src="search.js" defer></script>
    <script src="index.js" defer></script>
    <script type="application/ld+json">
    </script>
  </head>

  <body>
    <div class="navbar">
      <ul>
        <li><a href="#">Home</a></li>
        <li><a href="#">About</a></li>
        <li><a href="#">Games</a></li>
        <li><a href="settings/">Settings</a></li>
      </ul>
    </div>
  
    <header>
      <h1>Welcome to Shadow</h1>
      <p>The Flagship proxy of Phantom Network</p>
      <i class="fa-brands fa-github fa-xl"></i>
      <i class="fa-brands fa-discord fa-xl" style="margin-left: 5px;"></i> <br>
      <p id="ping-time"></p>
    </header>
    <form id="uv-form" class="flex-center">
      <input
        id="uv-search-engine"
        value=""
        type="hidden"
      />
      <input id="uv-address" type="text" placeholder="Search the web freely" />
    </form>
    <div class="icon-container"> <br><br>
      <img src="shortcuts/google_logo.png" onclick="openURL('google.com')" alt="Shortcut 1">
      <img src="shortcuts/youtube.png" onclick="openURL('youtube.com')" style="width:60px" alt="Shortcut 2">
      <img src="shortcuts/discord.png" onclick="openURL('discord.com/app')" style="height:30px; margin-top:0.5%;"  alt="Shortcut 2">
      <img src="shortcuts/nowgg.png" onclick="openURL('now.gg')" style="width:65px; height:65px; margin-top:-0.45%"  alt="Shortcut 2">
    </div>
    <div class="desc left-margin">
      <p id="uv-error"></p>
      <pre id="uv-error-code"></pre>
    </div>
  </body>
</html>

<script>
function calculatePing() {
  var startTime = new Date().getTime();

  navigator.sendBeacon('/ping', '');

  var endTime = new Date().getTime();
  var pingTime = endTime - startTime;
  var statusElement = document.getElementById('ping-time');
  statusElement.textContent = 'Ping: ' + pingTime + ' ms';
}

window.addEventListener('load', function() {
  calculatePing(); // Measure the ping when the website loads
  setInterval(calculatePing, 1000/10); // Update every 5 seconds
});

</script>


<script>
// Retrieve the search engine value from local storage
var searchEngineValue = localStorage.getItem("searchengine");

// Set the default value if no search engine value is found
if (!searchEngineValue) {
  searchEngineValue = "https://www.google.com/search?q=%s";
}
// Set the value of the input field
document.getElementById("uv-search-engine").value = searchEngineValue;

</script>

<script>
  function openNewTab() {
    const currentURL = window.location.href;
    const newTab = window.open('about:blank', '_blank');
    newTab.document.write('<html><body style="margin: 0; padding: 0;"><embed src="' + currentURL + '" style="width: 100%; height: 100%;"></embed></body></html>');
    newTab.document.close();
  }
  
  function openNewWindow() {
    const currentURL = window.location.href;
    const newWindow = window.open('about:blank', '_blank', 'width=800,height=600');
    newWindow.document.write('<html><body style="margin: 0; padding: 0;"><embed src="' + currentURL + '" style="width: 100%; height: 100%;"></embed></body></html>');
    newWindow.document.close();
  }
  
</script>

<script src="settings/js/index.js"></script>
<script src="settings/js/settings.js"></script>
<script src="settings/js/panic.js"></script>
